{"ast":null,"code":"import { getPieceType } from \"../pieceType/getPieceType\";\nexport function initPawnIds(records, board) {\n  /*exchange the tf that pawn started the game with, with the id for that pawn**/\n  var pawnHistories = {};\n  var rf, id;\n\n  if (!Object.keys(records).includes('pawn_histories')) {\n    records['pawn_histories'] = {};\n  }\n\n  for (var hist of Object.values(records['pawn_histories'])) {\n    rf = hist[hist.length - 1];\n    id = board[rf];\n    pawnHistories[id] = hist;\n\n    if (getPieceType(id) != 'P') {\n      console.log(`ERROR: there is no pawn at {sqr}`);\n      throw Error;\n    }\n  }\n\n  records['pawn_histories'] = pawnHistories;\n  return records;\n} // module.exports = initPawnIds;\n\n/** for node.js\nif (require.main === module) {\n    let records = {\n        \"rooks_moved\": {\n            \"a1\": false,\n            \"h1\": false,\n            \"a8\": false,\n            \"h8\": false\n        },\n        \"kings_moved\": {\n            \"e1\": false,\n            \"e8\": false\n        },\n        \"pawn_histories\": {\n            \"a4\": [\"a2\", \"a4\"],\n            \"b4\": [\"b2\", \"b4\"],\n            \"c4\": [\"c2\", \"c4\"],\n            \"d4\": [\"d2\", \"d4\"],\n            \"e4\": [\"e2\", \"e4\"],\n            \"f4\": [\"f2\", \"f4\"],\n            \"g4\": [\"g2\", \"g4\"],\n            \"h4\": [\"h2\", \"h4\"],\n            \"a5\": [\"a7\", \"a5\"],\n            \"b5\": [\"b7\", \"b5\"],\n            \"c5\": [\"c7\", \"c5\"],\n            \"d5\": [\"d7\", \"d5\"],\n            \"e5\": [\"e7\", \"e5\"],\n            \"f5\": [\"f7\", \"f5\"],\n            \"g5\": [\"g7\", \"g5\"],\n            \"f5\": [\"f7\", \"f5\"]\n        },\n        \"last_pawn_move\": \"None\",\n        \"num_consecutive_non_pawn_moves\": 0\n    }\n    let board =\n        {\"a1\": 'WR1', \"b1\": 'WN1', \"c1\": 'WB1', \"d1\": 'WQ1', \"e1\": 'WK1', \"f1\": 'WB2', \"g1\": 'WN2',\n         \"h1\": 'WR2', \"a2\": '#', \"b2\": '#', \"c2\": '#', \"d2\": '#', \"e2\": '#', \"f2\": '#', \"g2\": '#',\n         \"h2\": '#', \"a3\": '#', \"b3\": '#', \"c3\": '#', \"d3\": '#', \"e3\": '#', \"f3\": '#', \"g3\": '#',\n         \"h3\": '#', \"a4\": 'WP1', \"b4\": 'WP2', \"c4\": 'WP3', \"d4\": 'WP4', \"e4\": 'WP5', \"f4\": 'WP6',\n         \"g4\": 'WP7', \"h4\": 'WP8', \"a5\": 'BP1', \"b5\": 'BP2', \"c5\": 'BP3', \"d5\": 'BP4', \"e5\": 'BP5',\n         \"f5\": 'BP6', \"g5\": 'BP7', \"h5\": 'BP8', \"a6\": '#', \"b6\": '#', \"c6\": '#', \"d6\": '#', \"e6\": '#',\n         \"f6\": '#', \"g6\": '#', \"h6\": '#', \"a7\": '#', \"b7\": '#', \"c7\": '#', \"d7\": '#', \"e7\": '#',\n         \"f7\": '#', \"g7\": '#', \"h7\": '#', \"a8\": 'BR1', \"b8\": 'BN1', \"c8\": 'BB1', \"d8\": 'BQ1',\n         \"e8\": 'BK1', \"f8\": 'BB2', \"g8\": 'BN2', \"h8\": 'BR2'}\n    console.log(initPawnIds(records, board))\n\n}\n*/","map":{"version":3,"sources":["/home/brian/ChessKingsCouncil/app/src/game_logic/JsonRecords/initPawnIds.js"],"names":["getPieceType","initPawnIds","records","board","pawnHistories","rf","id","Object","keys","includes","hist","values","length","console","log","Error"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,2BAA3B;AAGA,OAAO,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,KAA9B,EAAqC;AACxC;AACA,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,EAAJ,EAAQC,EAAR;;AAEA,MAAI,CAAEC,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,QAArB,CAA8B,gBAA9B,CAAN,EAAuD;AACnDP,IAAAA,OAAO,CAAC,gBAAD,CAAP,GAA4B,EAA5B;AACH;;AAED,OAAK,IAAIQ,IAAT,IAAiBH,MAAM,CAACI,MAAP,CAAcT,OAAO,CAAC,gBAAD,CAArB,CAAjB,EAA2D;AACvDG,IAAAA,EAAE,GAAGK,IAAI,CAACA,IAAI,CAACE,MAAL,GAAc,CAAf,CAAT;AACAN,IAAAA,EAAE,GAAGH,KAAK,CAACE,EAAD,CAAV;AACAD,IAAAA,aAAa,CAACE,EAAD,CAAb,GAAoBI,IAApB;;AACA,QAAIV,YAAY,CAACM,EAAD,CAAZ,IAAoB,GAAxB,EAA6B;AACzBO,MAAAA,OAAO,CAACC,GAAR,CAAa,kCAAb;AACA,YAAMC,KAAN;AACH;AACJ;;AACDb,EAAAA,OAAO,CAAC,gBAAD,CAAP,GAA4BE,aAA5B;AACA,SAAOF,OAAP;AACH,C,CAED;;AAEA","sourcesContent":["import {getPieceType} from \"../pieceType/getPieceType\";\n\n\nexport function initPawnIds(records, board) {\n    /*exchange the tf that pawn started the game with, with the id for that pawn**/\n    var pawnHistories = {};\n    var rf, id;\n    \n    if (! Object.keys(records).includes('pawn_histories')) {\n        records['pawn_histories'] = {}\n    }\n    \n    for (var hist of Object.values(records['pawn_histories'])) {\n        rf = hist[hist.length - 1]\n        id = board[rf]\n        pawnHistories[id] = hist\n        if (getPieceType(id) != 'P') {\n            console.log(`ERROR: there is no pawn at {sqr}`)\n            throw Error;\n        }\n    }\n    records['pawn_histories'] = pawnHistories\n    return records\n}\n\n// module.exports = initPawnIds;\n\n/** for node.js\nif (require.main === module) {\n    let records = {\n        \"rooks_moved\": {\n            \"a1\": false,\n            \"h1\": false,\n            \"a8\": false,\n            \"h8\": false\n        },\n        \"kings_moved\": {\n            \"e1\": false,\n            \"e8\": false\n        },\n        \"pawn_histories\": {\n            \"a4\": [\"a2\", \"a4\"],\n            \"b4\": [\"b2\", \"b4\"],\n            \"c4\": [\"c2\", \"c4\"],\n            \"d4\": [\"d2\", \"d4\"],\n            \"e4\": [\"e2\", \"e4\"],\n            \"f4\": [\"f2\", \"f4\"],\n            \"g4\": [\"g2\", \"g4\"],\n            \"h4\": [\"h2\", \"h4\"],\n            \"a5\": [\"a7\", \"a5\"],\n            \"b5\": [\"b7\", \"b5\"],\n            \"c5\": [\"c7\", \"c5\"],\n            \"d5\": [\"d7\", \"d5\"],\n            \"e5\": [\"e7\", \"e5\"],\n            \"f5\": [\"f7\", \"f5\"],\n            \"g5\": [\"g7\", \"g5\"],\n            \"f5\": [\"f7\", \"f5\"]\n        },\n        \"last_pawn_move\": \"None\",\n        \"num_consecutive_non_pawn_moves\": 0\n    }\n    let board =\n        {\"a1\": 'WR1', \"b1\": 'WN1', \"c1\": 'WB1', \"d1\": 'WQ1', \"e1\": 'WK1', \"f1\": 'WB2', \"g1\": 'WN2',\n         \"h1\": 'WR2', \"a2\": '#', \"b2\": '#', \"c2\": '#', \"d2\": '#', \"e2\": '#', \"f2\": '#', \"g2\": '#',\n         \"h2\": '#', \"a3\": '#', \"b3\": '#', \"c3\": '#', \"d3\": '#', \"e3\": '#', \"f3\": '#', \"g3\": '#',\n         \"h3\": '#', \"a4\": 'WP1', \"b4\": 'WP2', \"c4\": 'WP3', \"d4\": 'WP4', \"e4\": 'WP5', \"f4\": 'WP6',\n         \"g4\": 'WP7', \"h4\": 'WP8', \"a5\": 'BP1', \"b5\": 'BP2', \"c5\": 'BP3', \"d5\": 'BP4', \"e5\": 'BP5',\n         \"f5\": 'BP6', \"g5\": 'BP7', \"h5\": 'BP8', \"a6\": '#', \"b6\": '#', \"c6\": '#', \"d6\": '#', \"e6\": '#',\n         \"f6\": '#', \"g6\": '#', \"h6\": '#', \"a7\": '#', \"b7\": '#', \"c7\": '#', \"d7\": '#', \"e7\": '#',\n         \"f7\": '#', \"g7\": '#', \"h7\": '#', \"a8\": 'BR1', \"b8\": 'BN1', \"c8\": 'BB1', \"d8\": 'BQ1',\n         \"e8\": 'BK1', \"f8\": 'BB2', \"g8\": 'BN2', \"h8\": 'BR2'}\n    console.log(initPawnIds(records, board))\n\n}\n*/\n    \n\n"]},"metadata":{},"sourceType":"module"}