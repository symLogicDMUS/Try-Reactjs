{"ast":null,"code":"var _jsxFileName = \"/home/brian/ChessKingsCouncil/app/src/Components/CreatePiece/Icon/Choose/ChooseModal.jsx\";\nimport React from \"react\";\nimport { getImgDict } from \"../../../../API/getImgDict\";\nimport { getSampleImgs } from \"../../../../apiHelpers/getSampleImgs\";\nimport { ImgChoice } from \"./ImgChoice.jsx\";\nimport { Ok } from \"./IconChooseOk\";\nimport { SearchBar } from \"./SearchBar\";\nimport \"./ChooseModal.css\";\nexport class ChooseModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgNameChoice: null,\n      bValue: true\n    };\n    this.imgDict = null;\n    this.imgNames = null;\n    this.searchText = \"\";\n    this.setChoice = this.setChoice.bind(this);\n    this.submitChoice = this.submitChoice.bind(this);\n    this.updateSearch = this.updateSearch.bind(this);\n  }\n\n  componentDidMount() {\n    getImgDict().then(([imgDict]) => {\n      if (!imgDict) {\n        this.imgDict = getSampleImgs();\n      } else {\n        this.imgDict = imgDict;\n      }\n\n      this.imgNames = Object.keys(this.imgDict);\n    });\n    this.setState({\n      bValue: !this.state.bValue\n    });\n  }\n\n  updateSearch(searchText) {\n    this.searchText = searchText;\n    this.setState({\n      binaryValue: !this.state.binaryValue\n    });\n  }\n\n  setChoice(imgNameChoice) {\n    if (this.state.imgNameChoice === imgNameChoice) this.setState({\n      imgNameChoice: null\n    });else this.setState({\n      imgNameChoice: imgNameChoice\n    });\n  }\n\n  submitChoice() {\n    this.props.setUnsaved(true);\n    this.props.setPieceImg(this.props.color, this.imgDict[this.state.imgNameChoice]);\n  }\n\n  applySearchFilter() {\n    if (this.searchText !== \"\") return this.imgNames.filter(imgName => imgName.toLowerCase().startsWith(this.searchText));else return this.imgNames;\n  }\n\n  getImages() {\n    let imageNames = this.applySearchFilter();\n    let imgPrevs = [];\n    imageNames.forEach(name => {\n      imgPrevs.push( /*#__PURE__*/React.createElement(ImgChoice, {\n        name: name,\n        base64ImgStr: this.imgDict[name],\n        imgNameChoice: this.state.imgNameChoice,\n        setChoice: this.setChoice,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }));\n    });\n    return imgPrevs;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"choose-modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"choose-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"close\",\n      onClick: this.props.closeChoose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/Images/close.svg\",\n      className: \"x\",\n      alt: \"close window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/Images/choose-icon-title.svg\",\n      className: \"title\",\n      alt: \"title of window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(SearchBar, {\n      updateSearch: this.updateSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pieces-profiles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, this.getImages()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Ok, {\n      imgNameChoice: this.state.imgNameChoice,\n      submitChoice: this.submitChoice,\n      closeChoose: this.props.closeChoose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n;","map":{"version":3,"sources":["/home/brian/ChessKingsCouncil/app/src/Components/CreatePiece/Icon/Choose/ChooseModal.jsx"],"names":["React","getImgDict","getSampleImgs","ImgChoice","Ok","SearchBar","ChooseModal","Component","constructor","props","state","imgNameChoice","bValue","imgDict","imgNames","searchText","setChoice","bind","submitChoice","updateSearch","componentDidMount","then","Object","keys","setState","binaryValue","setUnsaved","setPieceImg","color","applySearchFilter","filter","imgName","toLowerCase","startsWith","getImages","imageNames","imgPrevs","forEach","name","push","render","closeChoose"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {getImgDict} from \"../../../../API/getImgDict\";\nimport {getSampleImgs} from \"../../../../apiHelpers/getSampleImgs\"\nimport {ImgChoice} from \"./ImgChoice.jsx\";\nimport {Ok} from \"./IconChooseOk\";\nimport {SearchBar} from \"./SearchBar\";\nimport \"./ChooseModal.css\";\n\nexport class ChooseModal  extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {imgNameChoice: null, bValue: true};\n        this.imgDict = null;\n        this.imgNames = null;\n        this.searchText = \"\";\n        this.setChoice = this.setChoice.bind(this);\n        this.submitChoice = this.submitChoice.bind(this);\n        this.updateSearch = this.updateSearch.bind(this);\n    }\n   \n    componentDidMount() {\n        getImgDict().then( ([imgDict]) => {\n            \n            if (! imgDict) {\n                this.imgDict = getSampleImgs()\n            }\n            else {\n                this.imgDict = imgDict;\n            }\n            \n            this.imgNames = Object.keys(this.imgDict)\n        });\n        this.setState({bValue: ! this.state.bValue});\n    }\n\n    updateSearch(searchText) {\n        this.searchText = searchText;\n        this.setState({binaryValue: ! this.state.binaryValue})\n    }\n    \n    setChoice(imgNameChoice) {\n        if (this.state.imgNameChoice === imgNameChoice)\n            this.setState({imgNameChoice: null})\n        else\n            this.setState({imgNameChoice: imgNameChoice})\n    }\n\n    submitChoice() {\n        this.props.setUnsaved(true);\n        this.props.setPieceImg(this.props.color, this.imgDict[this.state.imgNameChoice]);\n    }\n\n    applySearchFilter() {\n        if (this.searchText !== \"\")\n            return this.imgNames.filter(imgName => imgName.toLowerCase().startsWith(this.searchText));\n        else\n            return this.imgNames;\n    }\n\n    getImages() {\n        let imageNames = this.applySearchFilter();\n        let imgPrevs = [];\n        imageNames.forEach(name => {imgPrevs.push(\n            <ImgChoice \n              name={name} \n              base64ImgStr={this.imgDict[name]} \n              imgNameChoice={this.state.imgNameChoice} \n              setChoice={this.setChoice} \n            />\n        )})\n        return imgPrevs;\n    }\n\n    render() {\n\n        return (\n            <div className=\"choose-modal\">\n                <div className=\"choose-main\">\n                    <div className=\"close\" onClick={this.props.closeChoose}>\n                        <img src=\"/Images/close.svg\" className=\"x\" alt=\"close window\"/>\n                    </div>\n                    <div className=\"title-div\">\n                        <img src=\"/Images/choose-icon-title.svg\" className=\"title\" alt=\"title of window\" />\n                    </div>\n                    <SearchBar updateSearch={this.updateSearch} />\n                    <div className=\"pieces-profiles\">\n                        {this.getImages()}\n                    </div>\n                    <div className=\"bottom-bar\">\n                        <Ok imgNameChoice={this.state.imgNameChoice} submitChoice={this.submitChoice} closeChoose={this.props.closeChoose} />\n                    </div>\n                </div>                \n            </div>\n        );    \n    }\n};"]},"metadata":{},"sourceType":"module"}