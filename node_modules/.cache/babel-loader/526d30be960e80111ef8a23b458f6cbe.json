{"ast":null,"code":"import * as firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport { gameDefsOffsetListsToStrs } from \"../apiHelpers/gameDefsOffsetListsToStrs\";\n\nasync function savePieceDefToDb(pieceName, pieceDef) {\n  var user = firebase.auth().currentUser;\n  var uid = user.uid;\n  var pieceDefObj = gameDefsOffsetListsToStrs({\n    [pieceName]: pieceDef\n  });\n  return await firebase.database().ref().child('defs').child(uid).update(pieceDefObj);\n}\n\nexport function saveDef(pieceName, pieceDef) {\n  return Promise.all([savePieceDefToDb(pieceName, pieceDef)]);\n}","map":{"version":3,"sources":["/home/brian/ChessKingsCouncil/app/src/API/saveDef.js"],"names":["firebase","gameDefsOffsetListsToStrs","savePieceDefToDb","pieceName","pieceDef","user","auth","currentUser","uid","pieceDefObj","database","ref","child","update","saveDef","Promise","all"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,cAA1B;AACA,OAAO,mBAAP;AACA,OAAO,eAAP;AACA,SAAQC,yBAAR,QAAwC,yCAAxC;;AAGA,eAAeC,gBAAf,CAAgCC,SAAhC,EAA2CC,QAA3C,EAAqD;AACjD,MAAIC,IAAI,GAAGL,QAAQ,CAACM,IAAT,GAAgBC,WAA3B;AACA,MAAIC,GAAG,GAAGH,IAAI,CAACG,GAAf;AACA,MAAIC,WAAW,GAAGR,yBAAyB,CAAC;AAAC,KAACE,SAAD,GAAaC;AAAd,GAAD,CAA3C;AACA,SAAO,MAAMJ,QAAQ,CAACU,QAAT,GAAoBC,GAApB,GAA0BC,KAA1B,CAAgC,MAAhC,EAAwCA,KAAxC,CAA8CJ,GAA9C,EAAmDK,MAAnD,CAA0DJ,WAA1D,CAAb;AACH;;AAED,OAAO,SAASK,OAAT,CAAiBX,SAAjB,EAA4BC,QAA5B,EAAsC;AACzC,SAAOW,OAAO,CAACC,GAAR,CAAY,CAACd,gBAAgB,CAACC,SAAD,EAAYC,QAAZ,CAAjB,CAAZ,CAAP;AACH","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport {gameDefsOffsetListsToStrs} from \"../apiHelpers/gameDefsOffsetListsToStrs\"\n\n\nasync function savePieceDefToDb(pieceName, pieceDef) {\n    var user = firebase.auth().currentUser;\n    var uid = user.uid;\n    var pieceDefObj = gameDefsOffsetListsToStrs({[pieceName]: pieceDef})\n    return await firebase.database().ref().child('defs').child(uid).update(pieceDefObj)\n}\n\nexport function saveDef(pieceName, pieceDef) {\n    return Promise.all([savePieceDefToDb(pieceName, pieceDef)])\n}"]},"metadata":{},"sourceType":"module"}