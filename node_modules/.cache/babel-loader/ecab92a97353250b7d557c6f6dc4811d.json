{"ast":null,"code":"import * as firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport { initEmptyRanges } from \"../apiHelpers/initEmptyRanges\";\nimport { offsetStrsToList } from \"../apiHelpers/offsetStrsToList\";\n\nasync function getPieceDefsFromDb() {\n  var user = firebase.auth().currentUser;\n  var uid = user.uid;\n  return await firebase.database().ref().child('defs').child(uid).once('value').then(function (snapshot) {\n    var defs = snapshot.val();\n\n    if (defs) {\n      defs = initEmptyRanges(defs);\n      defs = offsetStrsToList(defs);\n    }\n\n    return defs;\n  });\n}\n\nexport function getDefs() {\n  return Promise.all([getPieceDefsFromDb()]);\n}","map":{"version":3,"sources":["/home/brian/ChessKingsCouncil/app/src/API/getDefs.js"],"names":["firebase","initEmptyRanges","offsetStrsToList","getPieceDefsFromDb","user","auth","currentUser","uid","database","ref","child","once","then","snapshot","defs","val","getDefs","Promise","all"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,cAA1B;AACA,OAAO,mBAAP;AACA,OAAO,eAAP;AACA,SAAQC,eAAR,QAA8B,+BAA9B;AACA,SAAQC,gBAAR,QAA+B,gCAA/B;;AAGA,eAAeC,kBAAf,GAAoC;AAChC,MAAIC,IAAI,GAAGJ,QAAQ,CAACK,IAAT,GAAgBC,WAA3B;AACA,MAAIC,GAAG,GAAGH,IAAI,CAACG,GAAf;AACA,SAAO,MAAMP,QAAQ,CAACQ,QAAT,GAAoBC,GAApB,GAA0BC,KAA1B,CAAgC,MAAhC,EAAwCA,KAAxC,CAA8CH,GAA9C,EAAmDI,IAAnD,CAAwD,OAAxD,EAAiEC,IAAjE,CAAuE,UAASC,QAAT,EAAmB;AACnG,QAAIC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAX;;AACA,QAAID,IAAJ,EAAU;AACNA,MAAAA,IAAI,GAAGb,eAAe,CAACa,IAAD,CAAtB;AACAA,MAAAA,IAAI,GAAGZ,gBAAgB,CAACY,IAAD,CAAvB;AACH;;AACD,WAAOA,IAAP;AACH,GAPY,CAAb;AAQH;;AAED,OAAO,SAASE,OAAT,GAAmB;AACtB,SAAOC,OAAO,CAACC,GAAR,CAAY,CAACf,kBAAkB,EAAnB,CAAZ,CAAP;AACH","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport {initEmptyRanges} from \"../apiHelpers/initEmptyRanges\";\nimport {offsetStrsToList} from \"../apiHelpers/offsetStrsToList\";\n\n\nasync function getPieceDefsFromDb() {\n    var user = firebase.auth().currentUser;\n    var uid = user.uid;\n    return await firebase.database().ref().child('defs').child(uid).once('value').then( function(snapshot) {\n        var defs = snapshot.val()\n        if (defs) {\n            defs = initEmptyRanges(defs)\n            defs = offsetStrsToList(defs)\n        }\n        return defs;\n    })\n}\n\nexport function getDefs() {\n    return Promise.all([getPieceDefsFromDb()])\n}"]},"metadata":{},"sourceType":"module"}