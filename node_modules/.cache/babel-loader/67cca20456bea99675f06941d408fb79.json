{"ast":null,"code":"import { getQueenSideCastlePaths } from \"./getQueenSideCastlePaths\";\nimport { kingStartPos } from \"./kingStartPos\";\nimport { safePath } from \"./safePath\";\nimport { sqrUnderAttack } from \"../../../threatArea/top/sqrUnderAttack\";\nimport { clearPath } from \"../../../bools/clearPath\";\nimport { printBoard } from \"../../../printers/printBoard\";\nimport { rfToXy } from \"../../../coordType/crdCnvrt\";\nexport function canQueenSideCastle(board, color, jsonRecords, pieceDefs, idDict) {\n  /*return true if the queen side castle of the given color can be performed, else false**/\n  if (jsonRecords.hasKingMoved(color)) {\n    return false;\n  }\n\n  if (jsonRecords.queenSideRookMoved(color)) {\n    return false;\n  }\n\n  var castlePath = getQueenSideCastlePaths(color);\n\n  if (!clearPath(board, castlePath)) {\n    return false;\n  }\n\n  if (!safePath(board, castlePath, color, pieceDefs, idDict)) {\n    return false;\n  }\n\n  if (sqrUnderAttack(board, rfToXy(kingStartPos[color]), color, pieceDefs, idDict)) {\n    return false;\n  }\n\n  return true;\n} // module.exports = canQueenSideCastle;\n\n/** for node.js\nif (require.main === module) {\n\n    import {JsonRecords} from \"../../../JsonRecords/JsonRecords\";\n    import {getStandardPieceDefs} from \"../../../testObjects/getStandardPieceDefs\";\n    import {getStandardIdDict} from \"../../../testObjects/getStandardIdDict\";\n    import {sampleBoardDicts} from \"../../../testObjects/sampleBoardDicts\";\n    import {initPawnIds} from \"../../../JsonRecords/initPawnIds\";\n    import {initEmptyRanges} from \"../../../apiHelpers/initEmptyRanges\";\n    import {initDDEmptyLists} from \"../../../apiHelpers/initDDEmptyLists\";\n    import {dataDict} from \"../../../testObjects/dataDicts/dd1\";\n    \n    var board, records, jsonRecords;\n    var pieceDefs = initEmptyRanges(getStandardPieceDefs())\n    var idDict = getStandardIdDict()\n    dataDict = initDDEmptyLists(dataDict)\n\n    //castle_test1, white\n    board = sampleBoardDicts[\"castle_test1\"];\n    records = dataDict[\"castle_test1\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test1, black\n    board = sampleBoardDicts[\"castle_test1\"];\n    records = dataDict[\"castle_test1\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n    //castle_test2, white\n    board = sampleBoardDicts[\"castle_test2\"];\n    records = dataDict[\"castle_test2\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test2, black\n    board = sampleBoardDicts[\"castle_test2\"];\n    records = dataDict[\"castle_test2\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n    //castle_test3, white\n    board = sampleBoardDicts[\"castle_test3\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test3, black\n    board = sampleBoardDicts[\"castle_test3\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n    //castle_test4, white\n    board = sampleBoardDicts[\"castle_test4\"];\n    records = dataDict[\"castle_test4\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test4, black\n    board = sampleBoardDicts[\"castle_test4\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n}\n*/","map":{"version":3,"sources":["/home/brian/ChessKingsCouncil/app/src/game_logic/ranges/specialMoves/castle/canQueenSideCastle.js"],"names":["getQueenSideCastlePaths","kingStartPos","safePath","sqrUnderAttack","clearPath","printBoard","rfToXy","canQueenSideCastle","board","color","jsonRecords","pieceDefs","idDict","hasKingMoved","queenSideRookMoved","castlePath"],"mappings":"AAAA,SAAQA,uBAAR,QAAsC,2BAAtC;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AACA,SAAQC,QAAR,QAAuB,YAAvB;AACA,SAAQC,cAAR,QAA6B,wCAA7B;AACA,SAAQC,SAAR,QAAwB,0BAAxB;AACA,SAAQC,UAAR,QAAyB,8BAAzB;AACA,SAASC,MAAT,QAAuB,6BAAvB;AAGA,OAAO,SAASC,kBAAT,CAA4BC,KAA5B,EAAmCC,KAAnC,EAA0CC,WAA1C,EAAuDC,SAAvD,EAAkEC,MAAlE,EAA0E;AAC7E;AAEA,MAAIF,WAAW,CAACG,YAAZ,CAAyBJ,KAAzB,CAAJ,EAAqC;AACjC,WAAO,KAAP;AACH;;AAED,MAAIC,WAAW,CAACI,kBAAZ,CAA+BL,KAA/B,CAAJ,EAA2C;AACvC,WAAO,KAAP;AACH;;AAED,MAAIM,UAAU,GAAGf,uBAAuB,CAACS,KAAD,CAAxC;;AAEA,MAAI,CAAEL,SAAS,CAACI,KAAD,EAAQO,UAAR,CAAf,EAAoC;AAChC,WAAO,KAAP;AACH;;AAED,MAAI,CAAEb,QAAQ,CAACM,KAAD,EAAQO,UAAR,EAAoBN,KAApB,EAA2BE,SAA3B,EAAsCC,MAAtC,CAAd,EAA6D;AACzD,WAAO,KAAP;AACH;;AAED,MAAIT,cAAc,CAACK,KAAD,EAAQF,MAAM,CAACL,YAAY,CAACQ,KAAD,CAAb,CAAd,EAAqCA,KAArC,EAA4CE,SAA5C,EAAuDC,MAAvD,CAAlB,EAAkF;AAC9E,WAAO,KAAP;AACH;;AAED,SAAO,IAAP;AACH,C,CAED;;AAEA","sourcesContent":["import {getQueenSideCastlePaths} from \"./getQueenSideCastlePaths\";\nimport {kingStartPos} from \"./kingStartPos\";\nimport {safePath} from \"./safePath\";\nimport {sqrUnderAttack} from \"../../../threatArea/top/sqrUnderAttack\";\nimport {clearPath} from \"../../../bools/clearPath\";\nimport {printBoard} from \"../../../printers/printBoard\";\nimport { rfToXy } from \"../../../coordType/crdCnvrt\";\n\n\nexport function canQueenSideCastle(board, color, jsonRecords, pieceDefs, idDict) {\n    /*return true if the queen side castle of the given color can be performed, else false**/\n    \n    if (jsonRecords.hasKingMoved(color)) {\n        return false\n    }\n\n    if (jsonRecords.queenSideRookMoved(color)) {\n        return false\n    }\n\n    var castlePath = getQueenSideCastlePaths(color)\n    \n    if (! clearPath(board, castlePath)) {\n        return false\n    }\n    \n    if (! safePath(board, castlePath, color, pieceDefs, idDict)) {\n        return false\n    }\n    \n    if (sqrUnderAttack(board, rfToXy(kingStartPos[color]), color, pieceDefs, idDict)) {\n        return false\n    }\n    \n    return true\n}\n\n// module.exports = canQueenSideCastle;\n\n/** for node.js\nif (require.main === module) {\n\n    import {JsonRecords} from \"../../../JsonRecords/JsonRecords\";\n    import {getStandardPieceDefs} from \"../../../testObjects/getStandardPieceDefs\";\n    import {getStandardIdDict} from \"../../../testObjects/getStandardIdDict\";\n    import {sampleBoardDicts} from \"../../../testObjects/sampleBoardDicts\";\n    import {initPawnIds} from \"../../../JsonRecords/initPawnIds\";\n    import {initEmptyRanges} from \"../../../apiHelpers/initEmptyRanges\";\n    import {initDDEmptyLists} from \"../../../apiHelpers/initDDEmptyLists\";\n    import {dataDict} from \"../../../testObjects/dataDicts/dd1\";\n    \n    var board, records, jsonRecords;\n    var pieceDefs = initEmptyRanges(getStandardPieceDefs())\n    var idDict = getStandardIdDict()\n    dataDict = initDDEmptyLists(dataDict)\n\n    //castle_test1, white\n    board = sampleBoardDicts[\"castle_test1\"];\n    records = dataDict[\"castle_test1\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test1, black\n    board = sampleBoardDicts[\"castle_test1\"];\n    records = dataDict[\"castle_test1\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n    //castle_test2, white\n    board = sampleBoardDicts[\"castle_test2\"];\n    records = dataDict[\"castle_test2\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test2, black\n    board = sampleBoardDicts[\"castle_test2\"];\n    records = dataDict[\"castle_test2\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n    //castle_test3, white\n    board = sampleBoardDicts[\"castle_test3\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test3, black\n    board = sampleBoardDicts[\"castle_test3\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n    //castle_test4, white\n    board = sampleBoardDicts[\"castle_test4\"];\n    records = dataDict[\"castle_test4\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'W', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nwhite true\".green)\n    }\n    else {\n       printBoard(board, \"\\nwhite, false\".red) \n    }\n\n    //castle_test4, black\n    board = sampleBoardDicts[\"castle_test4\"];\n    records = dataDict[\"castle_test3\"][\"json\"]\n    jsonRecords = new JsonRecords(initPawnIds(records, board))\n    if(canQueenSideCastle(board, 'B', jsonRecords, pieceDefs, idDict)) {\n        printBoard(board, \"\\nblack true\".green)\n    }\n    else {\n       printBoard(board, \"\\nblack, false\".red) \n    }\n\n\n}\n*/"]},"metadata":{},"sourceType":"module"}